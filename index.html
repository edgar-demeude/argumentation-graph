<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Argumentation Graph ‚Äî Ecological Gardening Ethics</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=DM+Mono:wght@300;400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
  <link rel="stylesheet" href="styles.css">
  <style>
    .formula-display { display: flex; flex-direction: column; gap: 14px; }
    .formula-block { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.07); border-radius: 8px; padding: 10px 12px; }
    .formula-title { font-family: 'DM Sans', sans-serif; font-size: 10px; font-weight: 500; letter-spacing: 0.08em; text-transform: uppercase; color: #8a9e8e; margin-bottom: 8px; }
    .formula-math { overflow-x: auto; text-align: center; }
    .formula-math .katex { font-size: 0.95em; color: #d4e8d6; }
    .formula-math .katex-display { margin: 4px 0; }
    .formula-note { font-family: 'DM Sans', sans-serif; font-size: 11px; color: #7a8e7c; line-height: 1.5; margin-top: 6px; font-style: italic; white-space: pre-line; }
    .formula-note--small { font-size: 10px; }
  </style>
</head>
<body>

  <header>
    <h1>üåø Argumentation Graph ‚Äî Ecological Gardening</h1>
    <span>GRADUAL SEMANTICS ¬∑ ETHICAL REASONING ¬∑ ATTACK GRAPH</span>
    <button id="btn-export" class="export-btn">Export JSON</button>
  </header>

  <div class="workspace">

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         LEFT PANEL ‚Äî New argument creator
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="sidebar sidebar-left">

      <div class="panel-header">
        <h2>New argument</h2>
      </div>

      <div class="creator-form">

        <!-- ID -->
        <div class="field-group">
          <label for="new-id">ID</label>
          <input id="new-id" type="text" class="field-input" placeholder="e.g. A18">
        </div>

        <!-- Label -->
        <div class="field-group">
          <label for="new-label">Label <span class="field-hint">(use \n for line breaks)</span></label>
          <input id="new-label" type="text" class="field-input" placeholder="Short node label">
        </div>

        <!-- Category -->
        <div class="field-group">
          <label for="new-cat">Category</label>
          <select id="new-cat" class="field-input field-select">
            <!-- Populated by creator.js -->
          </select>
        </div>

        <!-- Description -->
        <div class="field-group">
          <label for="new-desc">Description</label>
          <textarea id="new-desc" class="field-input field-textarea" rows="3"
                    placeholder="Ethical justification, context‚Ä¶"></textarea>
        </div>

        <!-- Attacks -->
        <div class="field-group">
          <label>Attacks ‚Üí
            <span class="field-hint">(IDs this argument attacks)</span>
          </label>
          <div class="tag-row">
            <input id="attacks-input" type="text" class="field-input tag-input"
                   list="attacks-list" placeholder="ID then Enter">
            <datalist id="attacks-list"></datalist>
            <button id="btn-add-attack" class="tag-add-btn">+</button>
          </div>
          <div class="tags-container attack-tags" id="attacks-tags"></div>
        </div>

        <!-- Attacked by -->
        <div class="field-group">
          <label>‚Üê Attacked by
            <span class="field-hint">(IDs that attack this argument)</span>
          </label>
          <div class="tag-row">
            <input id="attackedby-input" type="text" class="field-input tag-input"
                   list="attackedby-list" placeholder="ID then Enter">
            <datalist id="attackedby-list"></datalist>
            <button id="btn-add-attackedby" class="tag-add-btn def">+</button>
          </div>
          <div class="tags-container def-tags" id="attackedby-tags"></div>
        </div>

        <!-- Error message -->
        <div class="form-error" id="form-error"></div>

        <!-- Submit -->
        <button id="btn-create" class="create-btn">Create argument</button>

      </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         CENTRE ‚Äî D3 graph canvas
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="graph-container">
      <svg id="svg"></svg>
      <div class="instructions">click = details ¬∑ drag = move ¬∑ scroll = zoom</div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         RIGHT PANEL ‚Äî Selected argument detail
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="sidebar sidebar-right">

      <!-- Legend -->
      <div class="legend">
        <h2>Ethical dimensions</h2>
        <div class="legend-item"><div class="legend-dot" style="background:var(--action)"></div>Action</div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--env)"></div>Environmental ethics</div>
        <div class="legend-item"><div class="legend-dot" style="background:var(--eco)"></div>Economic value</div>
        <div class="legend-attack">
          <div class="arrow-line"></div>
          <span>attacks</span>
        </div>
      </div>

      <!-- Category Weights -->
      <div class="weight-section">
        <h2>Dimension importance</h2>
        <div class="weights-container">
          <div class="weight-item">
            <div class="weight-label">
              <span>Tilt towards</span>
              <span class="weight-val" id="importance-label">Balanced</span>
            </div>
            <input
              id="importance-range"
              type="range"
              min="0"
              max="1"
              step="0.01"
              value="0.5"
              class="weight-range"
            >
            <div class="weight-ends">
              <span>Economic value</span>
              <span>Environmental ethics</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Score method + formula -->
      <div class="detail-panel">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
          <h2>Score method</h2>
          <select id="semantics-method" class="method-select">
            <option value="h-categorizer">h-categorizer</option>
          </select>
        </div>
        <div id="formula-display" class="formula-display"></div>
      </div>

      <!-- Global scores footer -->
      <div class="score-section">
        <h2>Scores by dimension (avg)</h2>
        <div class="global-scores" id="global-scores"></div>
        
        <div class="final-score-box">
          <button id="start-simulation-btn" class="create-btn">
            Start Simulation
          </button>
        </div>
      </div>

    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
  <!-- Load order: graph renderer ‚Üí panel modules ‚Üí entry point -->
  <script src="semantics.js"></script>
  <script src="graph.js"></script>
  <script src="ui.js"></script>
  <script src="creator.js"></script>
  <script src="main.js"></script>

</body>
</html>